\documentclass[xcolor=dvipsnames]{beamer} 
\mode<presentation>
{
\setbeamercolor{structure}{fg=Red!75!black}
\usetheme{Madrid} 
\setbeamercovered{transparent}
}

\usepackage{ucs}
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\usepackage{palatino}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{verbatim}
\usepackage{url}
\usepackage{array}
\urlstyle{sf}

%
% THIS SOURCE FILE IS PUBLIC DOMAIN
% made by Kamil S Jaron with help of internet
% contact: kamiljaron at gmail
%

%%%%%% SET TO CORRECT PATHS
\graphicspath{{/Volumes/dump/pictures/pool/}}

\newcommand{\btVFill}{\vskip0pt plus 1filll}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\title[ ]{Introduction to UNIX}
\author{Kamil S Jaron, Marc Robinson-Rechavi}
\date{22.9.~2016}

\usenavigationsymbolstemplate{}
\defbeamertemplate*{footline}{mytheme}{}

\begin{document}

\Large
\begin{frame}
	\titlepage
\end{frame}

\begin{frame}
	\huge
	\begin{center}
		\begin{tabular}{c | c | c}
		 & today & tomorrow \\
		 \hline
		AM & navigation & variables \\
		 & text processing & scripts \\
		 & pipes & cluster \\
		 \hline
		 PM &  & QC \\
		 & & trimming \\
		\end{tabular}			
	\end{center}
\end{frame}

\begin{frame}
	\Huge
	\begin{center}
		Why UNIX?	
	\end{center}
\end{frame}

\begin{frame}
	\huge
	\begin{center}
	Sequencing reads of 15 genomes \\
	~\\
	$\approx$ 1GB of plain text data / genome \\
	~\\
	$\approx$ 640938 of pages
	\end{center}
\end{frame}

\begin{frame}
	\begin{center}
	\huge
	How to check a file?? \\
	\vspace{1cm}
	
	\Large
	\begin{tabular}{C{0.4\textwidth}C{0.4\textwidth}}
	Notepad? & Office? \\
	\includegraphics[scale=0.3]{UNIX/notepad-icon} & \includegraphics[scale=0.2]{UNIX/office_logo} \\
	\small not well suited for big files & \small Use at least read-only mode\\
	\end{tabular}
	\end{center}
\end{frame}

\begin{frame}
	\begin{center}
		\includegraphics[width=0.9\textwidth]{/UNIX/gene_name_errors_excel}
	\end{center}
\end{frame}


\begin{frame}
	\begin{center}
		\includegraphics[width=0.9\textwidth]{/UNIX/GUI_pipeline}
	\end{center}
\end{frame}


\begin{frame}
	\begin{center}
		\Huge
		Cluster computing\\
		\vspace{1cm}
		\includegraphics[width=0.9\textwidth]{/UNIX/Vital-IT-cluster}
	\end{center}
\end{frame}	

\begin{frame}
	\Huge
	\begin{center}
		How can UNIX help us?	
	\end{center}
\end{frame}

\begin{frame}
	Command line $\approx$ explorer + toolbox of commands
	\begin{center}
		\includegraphics[width=0.6\textwidth]{/UNIX/Windows-7-Explorer-Tweaked-Folder}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer
	\begin{center}
		\includegraphics[width=0.6\textwidth]{/UNIX/Windows-7-Explorer-Tweaked-Folder}
	\end{center}
\end{frame}

\begin{frame}
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/commnad_line}
	\end{center}
\end{frame}

\begin{frame}[fragile]
\begin{verbatim}
### relative paths
.     # this directory
..    # parent directory
~     # my home directory
### absolute path
/     # root directory
\end{verbatim}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (print working directory)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/pwd}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (list segments)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/ls}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (change directory)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/cd}
	\end{center}
\end{frame}
		

\begin{frame}
	bash $\approx$ explorer (copy)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/cp_rename}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (copy)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/cp}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (move)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/mv_ls}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (move)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/mv}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (rename)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/rename}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (rename to existing file)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/rename_rm}
	\end{center}
\end{frame}

\begin{frame}
	bash $\approx$ explorer (remove)
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/rm}
	\end{center}
\end{frame}

\begin{frame}
	bash makes readable errors
	\begin{center}
		\includegraphics[width=1\textwidth]{/UNIX/errors}
	\end{center}
\end{frame}

\begin{frame}[fragile]
	\begin{verbatim}
		command -<parameters> <arguments>
	\end{verbatim}√ç
	Examples:
	\begin{verbatim}
		ls -lah  #list long, all, human readable
		ls -la ..  #list in parent directory
		cp -r <what_dir> <were> # recursive
		rm -rf <what dir>       # -||- , force
		# careful with this one...
		
		man <command>
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\Large
	Special characters \verb!*, ?, []!, escape character \verb!\!
	\begin{verbatim}
		$cd /
		$echo b
		b
		
		$echo b*
		bin boot
		
		$echo b\*
		b*
		
		$echo B*
		B*

	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\Huge
	\begin{center}
		OK, try it!	
	\end{center}
	\Large
	\begin{verbatim}
		# Manual	
		man <command>
	
	
		# Auto Completion by <tab>
		cd /<tab><tab>   # lists all in root
		cd ~/k<tab><tab> # lists all in home
		
		
		
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\begin{center}
		MyUnil $\rightarrow$ Sequence a Genome II $\rightarrow$ 1\_unix\_local.pdf
	\end{center}
	\Large
	\begin{verbatim}
		# Manual	
		man <command>
		
		# Auto Completion by <tab>
		cd /<tab><tab>   # lists all in root
		cd ~/<tab><tab> # lists all in home
		
		# Command history
		<arrow_up>       # last excuted command
		<Ctrl+R>         # full-text search
	\end{verbatim}
\end{frame}

\begin{frame}
	\Huge
	\begin{center}
		What about that toolbox?	
	\end{center}
\end{frame}

\begin{frame}
	\begin{center}
	\huge
	How to check a file?? \\
	\vspace{1cm}
	
	\Large
	\begin{tabular}{C{0.4\textwidth}C{0.4\textwidth}}
	Notepad? & Office? \\
	\includegraphics[scale=0.3]{UNIX/notepad-icon} & \includegraphics[scale=0.2]{UNIX/office_logo} \\
	\small not well suited for big files & \small Use at least read-only mode\\
	\end{tabular}
	\end{center}
\end{frame}

\begin{frame}[fragile]
	\huge
	Look at a plain-text file
	\Large
	\begin{verbatim}
		command <text_file>	
	
		echo
		head / tail 
		cat   # catenate
		less  # > more; text reader
		
		wc    # word count
		tr    # transform
		grep  # global regular expression print 
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	IO streams - a way how to build pipes!
	\Large
	\begin{verbatim}
		command <text_file> 
	           == cat <text_file> | command
		echo
		tail / head
		cat   # catenate
		less  # > more
		
		wc    # word count
		tr    # transform
		grep  # global regular expression print 
	\end{verbatim}
\end{frame}

\begin{frame}
	\begin{center}
		\includegraphics[width=0.9\textwidth]{/UNIX/GUI_pipeline}
	\end{center}
\end{frame}

\begin{frame}[fragile]
	\huge
	IO streams!
	\Large
	\begin{verbatim}
		
	
		ls | wc -w
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	Streams in the service of genomics!
	\Large
	\begin{verbatim}
		
	
		grep ">" seq.fasta | wc -l
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	input stream (file)
	\Large
	\begin{verbatim}
		
	
		grep -v ">" seq.fasta | \
		  tr -d '\n' | wc -c
		
		
		>seq1
		CGATCGTCGTAGCTACGAT
		>seq2
		ACCGATCAAACCGTCGTAA
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	\verb!grep -v ">"!
	\Large
	\begin{verbatim}
		
	
		grep -v ">" seq.fasta | \
		  tr -d "\n" | wc -c
		
		
		CGATCGTCGTAGCTACGAT
		ACCGATCAAACCGTCGTAA
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	\verb!tr -d "\n"!
	\Large
	\begin{verbatim}
		
	
		grep -v ">" seq.fasta | \
		  tr -d "\n" | wc -c
		
		
		CGATCGTCGTAGCTACGATACCGATCAAACCGTCGTAA
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	\verb!wc -c!
	\Large
	\begin{verbatim}
		
	
		grep -v ">" seq.fasta | \
		  tr -d "\n" | wc -c
		
		
		38
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	Stream redirection overview
	\Large
	\begin{verbatim}
		
	
		grep ">" seq.fasta         # print
		grep ">" seq.fasta | wc    # pipe
		grep ">" seq.fasta > file  # write
		grep ">" seq.fasta >> file # append
	\end{verbatim}
\end{frame}

\begin{frame}[fragile]
	\huge
	Your turn
	\Large
	\begin{verbatim}
		command <parameters> <text_file>	
	
		echo  # print text
		head / tail # start/end of file
		cat   # print file(s)
		less  # text-file browser
		
		wc    # word count
		tr    # transform
		grep  # print lines with pattern
	\end{verbatim}
\end{frame}

\end{document}



